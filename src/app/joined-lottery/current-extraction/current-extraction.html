<div class="time-container">
  <div class="extraction-time">{{ currentExtraction().extractionTime | toLocalDate }}</div>
  @if (countDown()) {
    <div class="countdown">- {{ countDown() }}</div>
  }
  @if (!skipAnimation()) {
    <p-button
      class="fab"
      icon="pi pi-forward"
      label="Skip animation"
      (click)="skipAnimation.set(true)"
    />
  }
</div>
<div class="numbers-container winning">
  <div class="label">Winning numbers</div>
  <div
    class="numbers"
    [class.skip-animation]="skipAnimation()"
  >
    @for (number of currentExtraction().winningNumbers; track $index; let last = $last) {
      <span
        class="number"
        [class.correct]="chosenNumbersMap()[number] || false"
        (animationend)="last && skipAnimation.set(true)"
        (animationstart)="handleAnimationStart(number, 200)"
        (animationcancel)="handleAnimationStart(number, 0)"
      >{{ number }}</span
      >
    }
  </div>
</div>
<div class="numbers-container chosen">
  <div class="label">Your numbers</div>
  <div class="numbers">
    @for (number of currentExtraction().chosenNumbers; track $index) {
      <span
        class="number"
        [class.correct]="winningNumbersMap()[number] || false"
      >{{ number }}</span
      >
    }
  </div>
</div>
<div>
  <p-button
    label="Stats"
    icon="pi pi-chart-bar"
    (onClick)="showStats.set(true)"
  />
  <app-extraction-stats
    [showDialog]="showStats()"
    (showDialogChange)="showStats.set($event)"
    [lotteryId]="currentExtraction().lotteryId!"
    [extractionTime]="currentExtraction().extractionTime"
  />
</div>
