<div class="time-container">
  <div class="extraction-time">{{ currentExtraction().extractionTime | toLocalDateString }}</div>
  @if (countDown()) {
    <div class="countdown">- {{ countDown() }}</div>
  } @else {
    <app-extraction-stats
      [lotteryId]="currentExtraction().lotteryId!"
      [extractionTime]="currentExtraction().extractionTime"
    />
  }
  @if (!skipAnimation()) {
    <p-button
      class="fab"
      icon="pi pi-forward"
      label="Skip animation"
      (click)="skipAnimation.set(true)"
    />
  }
</div>
<div class="numbers-container winning">
  <div class="label-with-icon emp"><span class="pi pi-trophy"></span>Winning numbers</div>
  <div
    class="numbers"
    [class.skip-animation]="skipAnimation()"
  >
    @for (number of currentExtraction().winningNumbers; track $index; let last = $last) {
      <p-badge
        class="number"
        [value]="number"
        [severity]="chosenNumbersMap()[number] ? 'success' : 'contrast'"
        (animationend)="last && skipAnimation.set(true)"
        (animationstart)="handleAnimationStart(number, 200)"
        (animationcancel)="handleAnimationStart(number, 0)"
      ></p-badge>
    }
  </div>
</div>
<div class="numbers-container chosen">
  <div class="label-with-icon emp"><span class="pi pi-heart"></span>Your numbers</div>
  <div class="numbers">
    @for (number of currentExtraction().chosenNumbers; track $index) {
      <p-badge
        class="number"
        [value]="number"
        [severity]="winningNumbersMap()[number] ? 'success' : 'contrast'"
      ></p-badge>
    }
  </div>
</div>
